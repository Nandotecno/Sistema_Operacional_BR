<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastrar Novo Cliente</title>
    <link rel="stylesheet" href="new-client.css">
</head>
<body>
    <div class="container">
        <h1>Cadastrar Novo Cliente</h1>

        <form id="new-client-form">
            <section class="form-block">
                <h2>Bloco 01: Informações Pessoais e Contato</h2>
                <div class="grid-layout">
                    <div class="form-group">
                        <label for="fullname">Nome Completo</label>
                        <input type="text" id="fullname" name="fullname">
                    </div>
                    <div class="form-group required">
                        <label for="company-name">Empresa *</label>
                        <input type="text" id="company-name" name="company-name" required>
                    </div>
                    <div class="form-group">
                        <label for="trade-name">Nome Fantasia</label>
                        <input type="text" id="trade-name" name="trade-name">
                    </div>
                    <div class="form-group required">
                        <label for="cpf">CPF *</label>
                        <input type="text" id="cpf" name="cpf" placeholder="000.000.000-00" required>
                    </div>
                    <div class="form-group">
                        <label for="cnh">CNH (Máx 12 chars)</label>
                        <input type="text" id="cnh" name="cnh" maxlength="12">
                    </div>
                    <div class="form-group">
                        <label for="cnh-issue-date">Data de Expedição CNH</label>
                        <input type="date" id="cnh-issue-date" name="cnh-issue-date">
                    </div>
                    <div class="form-group required">
                        <label for="cnpj">CNPJ *</label>
                        <input type="text" id="cnpj" name="cnpj" placeholder="00.000.000/0000-00" required>
                    </div>
                    <div class="form-group required">
                        <label for="email">E-mail *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group required">
                        <label for="mobile-phone">Telefone Cel *</label>
                        <input type="tel" id="mobile-phone" name="mobile-phone" placeholder="(00) 00000-0000" required>
                    </div>
                </div>
                <h3>Endereço</h3>
                 <div class="grid-layout">
                    <div class="form-group">
                        <label for="cep">CEP</label>
                        <input type="text" id="cep" name="cep" placeholder="00000-000">
                    </div>
                    <div class="form-group">
                        <label for="address">Endereço</label>
                        <input type="text" id="address" name="address">
                    </div>
                    <div class="form-group">
                        <label for="city">Cidade</label>
                        <input type="text" id="city" name="city">
                    </div>
                    <div class="form-group">
                        <label for="state">Estado (UF)</label>
                        <select id="state" name="state">
                            <option value="">Selecione...</option>
                            <!-- Options will be populated by JS -->
                        </select>
                    </div>
                </div>
            </section>

            <section class="form-block">
                <h2>Bloco 02: Informações da Empresa</h2>
                 <div class="grid-layout">
                    <div class="form-group">
                        <label for="opening-date">Data de Abertura</label>
                        <input type="date" id="opening-date" name="opening-date">
                    </div>
                    <div class="form-group">
                        <label for="state-reg">Inscrição Estadual (Numérico, 8 chars)</label>
                        <input type="text" id="state-reg" name="state-reg" pattern="\d*" maxlength="8">
                    </div>
                    <div class="form-group">
                        <label for="municipal-reg">Inscrição Municipal (Numérico, 10 chars)</label>
                        <input type="text" id="municipal-reg" name="municipal-reg" pattern="\d*" maxlength="10">
                    </div>
                    <div class="form-group">
                        <label for="company-size">Porte</label>
                        <select id="company-size" name="company-size">
                            <option value="">Selecione...</option>
                            <option value="MEI">MEI</option>
                            <option value="ME">ME</option>
                            <!-- Add more options if needed -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="tax-regime">Regime Tributário</label>
                        <select id="tax-regime" name="tax-regime">
                            <option value="">Selecione...</option>
                            <option value="SIMPLES">SIMPLES NACIONAL</option>
                            <option value="PRESUMIDO">LUCRO PRESUMIDO</option>
                            <option value="REAL">LUCRO REAL</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="nire">Nire (Numérico, 8 chars)</label>
                        <input type="text" id="nire" name="nire" pattern="\d*" maxlength="8">
                    </div>
                </div>

                 <div class="form-group dynamic-items-section">
                    <label for="other-services">Outros Serviços/Portais</label>
                    <div class="dynamic-controls">
                        <select id="other-services-select">
                            <option value="Governo">Governo</option>
                            <option value="Certificado Digital">Certificado Digital</option>
                            <option value="Giss Online">Giss Online</option>
                            <option value="Portais diversos">Portais diversos</option>
                        </select>
                        <button type="button" id="add-service-btn" class="add-btn">+</button>
                    </div>
                    <div id="added-services-container" class="added-items-container">
                        <!-- Added services will appear here -->
                    </div>
                </div>
            </section>

             <div id="error-message" class="error-message"></div>

            <div class="action-buttons">
                <button type="button" id="cancel-btn">Cancelar</button>
                <button type="submit" id="save-btn">Salvar</button>
            </div>
        </form>
    </div>

    <!-- Success/Error Popups (Optional - Reuse from register.html or create new ones) -->
    <div id="success-popup" class="popup-overlay" style="display: none;">
        <div class="popup-content success">
            <h2>Sucesso!</h2>
            <p id="success-message">Cliente cadastrado com sucesso!</p>
            <button id="close-success-popup-button">Fechar</button>
        </div>
    </div>

     <div id="error-popup" class="popup-overlay" style="display: none;">
        <div class="popup-content error">
            <h2>Erro!</h2>
            <p id="error-popup-message"></p>
            <button id="close-error-popup-button">Fechar</button>
        </div>
    </div>

    <script type="module" src="new-client.js"></script>
</body>
</html>